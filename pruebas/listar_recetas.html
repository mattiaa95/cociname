<!doctype html>
<html>
<head>
<meta charset="UTF-8">
<title>Obtener JSON con AJAX</title>
</head>

<body>
<h1>Datos para enviar a PHP</h1>
<form id="uploadimage" action="" method="post" enctype="multipart/form-data">
	<input type="file" name="file" id="file" required /><br><br>
<input type="text" id="nombre" placeholder="Nombre" accept="text/plain"><br><br>
<input type="number" id="id_user" placeholder="id_user" accept="text/plain"><br><br>
<input type="text" id="receta_descripcion" placeholder="receta_descripcion" accept="text/plain"><br><br>
<input type="number" id="precio" placeholder="precio" accept="text/plain"><br><br>
<input type="number" id="porcion" placeholder="porcion" accept="text/plain"><br><br>
<input type="number" id="id_tipo" placeholder="id_tipo" accept="text/plain"><br><br>
<div class="enviar" id="enviar"><h3>Enviar</h3></div>
</form>
<hr>
<div class="respuesta"></div>

<script src="../js/vendor/jquery-1.11.2.min.js"></script>
<script>
$( document ).ready(function() {
		$( "#enviar" ).click(function() {
		  alert( "click en enviar" );
					var formData = new FormData();
					formData.append('file', $('#file')[0].files[0]);
					formData.append('nombre', $("#nombre").val());
					formData.append('id_user', $("#id_user").val());
					formData.append('receta_descripcion', $("#receta_descripcion").val());
					formData.append('precio', $("#precio").val());
					formData.append('porcion', $("#porcion").val());
					formData.append('id_tipo', $("#id_tipo").val());
					formData.append('accion', $("#accion").val());
					formData.append('datos', $("#datos").val());

console.log($('#file'));
					$.ajax({
							url: "../php/recetas_crear.php",
							type: "POST",
							data: formData,
							contentType: false,
							processData: false,
							success: function(respuesta)
							{
								console.log(respuesta);
								console.log(JSON.stringify(respuesta));
								var objetojs = jQuery.parseJSON(JSON.stringify(respuesta));
								console.log(objetojs);
								//$(".respuesta").text(objetojs[0].nombre +", "+ objetojs[1].nombre);
							}
					});
			});
	 });

</script>
</body>
</html>
